if isinstance(values, (bytes, bytearray)):
    try:
        # Try decoding as ASCII first
        ascii_str = values.decode('ascii')
        hex_str = ascii_str.strip()
    except UnicodeDecodeError:
        # Fallback to hex if not ASCII
        hex_str = ' '.join(f"{b:02X}" for b in values)
elif isinstance(values, str):
    hex_str = values
else:
    hex_str = str(values)

# Now chunk hex_str into lines for OLED if it's too long
lines = [label]
chunk_size = 16  # Fits within 128px width
for i in range(0, len(hex_str), chunk_size):
    lines.append(hex_str[i:i+chunk_size])

oled.display_centered_text('\n'.join(lines[:3]))  # Show max 3 lines
